$defs:
  abSessionAssignment:
    type: object
    title: AbSessionAssignment
    properties:
      poolName:
        description: The name of the AB Pool this session is for
        type: string
      sessionName:
        description: Name of the session
        type: string
      playerId:
        description: The assigned player ID
        oneOf:
          - type: string
          - type: number
    required: [poolName, sessionName, playerId]
    additionalProperties: false
  pieceStatus:
    type: object
    title: PieceStatus
    properties:
      id:
        description: Unique id of the Piece
        type: string
      name:
        description: User-facing name of the Piece
        type: string
      sourceLayer:
        description: The source layer name for this Piece
        type: string
      outputLayer:
        description: The output layer name for this Piece
        type: string
      tags:
        description: Tags attached to this Piece
        type: array
        items:
          type: string
      publicData:
        description: Optional arbitrary data
      abSessions:
        description: AB playback session assignments for this Piece
        type: array
        items:
          $ref: '#/$defs/abSessionAssignment'
    required: [id, name, sourceLayer, outputLayer]
    additionalProperties: false
    examples:
      - $ref: './pieceStatus-example.yaml'
